(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{101:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return d}));var n=t(0),r=t.n(n);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),b=function(e){var a=r.a.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},p=function(e){var a=b(e.components);return r.a.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},m=r.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),p=b(t),m=n,d=p["".concat(c,".").concat(m)]||p[m]||u[m]||l;return t?r.a.createElement(d,i(i({ref:a},s),{},{components:t})):r.a.createElement(d,i({ref:a},s))}));function d(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var l=t.length,c=new Array(l);c[0]=m;var i={};for(var o in a)hasOwnProperty.call(a,o)&&(i[o]=a[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var s=2;s<l;s++)c[s]=t[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},86:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return i})),t.d(a,"toc",(function(){return o})),t.d(a,"default",(function(){return b}));var n=t(3),r=t(7),l=(t(0),t(101)),c={title:"Package",sidebar_position:8},i={unversionedId:"package",id:"package",isDocsHomePage:!1,title:"Package",description:"The package command packages your Scala code in various formats, such as",source:"@site/docs/package.md",sourceDirName:".",slug:"/package",permalink:"/scala-cli/docs/package",editUrl:"https://github.com/VirtuslabRnD/scala-cli/edit/master/website/docs/package.md",version:"current",sidebarPosition:8,frontMatter:{title:"Package",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Test",permalink:"/scala-cli/docs/test"},next:{title:"REPL",permalink:"/scala-cli/docs/repl"}},o=[{value:"Default package format",id:"default-package-format",children:[]},{value:"Library JARs",id:"library-jars",children:[]},{value:"Assemblies",id:"assemblies",children:[]},{value:"Scala.JS",id:"scalajs",children:[]},{value:"Scala Native",id:"scala-native",children:[]},{value:"OS-specific packages",id:"os-specific-packages",children:[]}],s={toc:o};function b(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"package")," command packages your Scala code in various formats, such as"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"#default-package-format"},'"bootstrap" JARs')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"#library-jars"},"standard library JARs")),Object(l.b)("li",{parentName:"ul"},"so called ",Object(l.b)("a",{parentName:"li",href:"#assemblies"},'"assemblies" or "fat JARs"')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"#scalajs"},"JavaScript files")," for Scala.JS code"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"#scala-native"},"native executables")," for Scala Native code"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"#os-specific-packages"},"OS-specific formats"),", such as deb or rpm (Linux), pkg (macOS), or MSI (Windows)")),Object(l.b)("h2",{id:"default-package-format"},"Default package format"),Object(l.b)("p",null,'The default package format writes a "bootstrap" JAR, like the ones\n',Object(l.b)("a",{parentName:"p",href:"https://get-coursier.io/docs/cli-bootstrap#bootstraps"},"generated by coursier"),". These\nJARs tend to have a small size (they mostly only contain the byte code of your own sources),\ncan be generated fast,\nand download their dependencies upon first launch, via ",Object(l.b)("a",{parentName:"p",href:"https://get-coursier.io"},"coursier"),"."),Object(l.b)("p",null,"These can be copied on other machines, and run fine there. Their only requirement is\nthat the ",Object(l.b)("inlineCode",{parentName:"p"},"java")," command needs to be available in the ",Object(l.b)("inlineCode",{parentName:"p"},"PATH"),"."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat Hello.scala\nobject Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n$ scala package Hello.scala -o hello\n$ ./hello\nHello\n')),Object(l.b)("h2",{id:"library-jars"},"Library JARs"),Object(l.b)("p",null,"Library JARs are suitable if you plan to put the resulting JAR in a class path, rather than running it as is.\nThese follow the same format as the JARs of libraries published to Maven Central for example."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat MyLibrary.scala\npackage mylib\nclass MyLibrary {\n  def message = "Hello"\n}\n$ scala package MyLibrary.scala -o my-library.jar --library\n$ javap -cp my-library.jar mylib.MyLibrary\nCompiled from "MyLibrary.scala"\npublic class mylib.MyLibrary {\n  public java.lang.String message();\n  public mylib.MyLibrary();\n}\n')),Object(l.b)("h2",{id:"assemblies"},"Assemblies"),Object(l.b)("p",null,"Assemblies blend your dependencies and your sources' byte code together in a single JAR. As a result,\nassemblies can be run as is, just like ",Object(l.b)("a",{parentName:"p",href:"#default-package-format"},"bootstraps"),", but don't need to download\nanything upon first launch. Because of that, assemblies also tend to be bigger, and somewhat slower to generate."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat Hello.scala\nobject Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n$ scala package Hello.scala -o hello --assembly\n$ ./hello\nHello\n')),Object(l.b)("h2",{id:"scalajs"},"Scala.JS"),Object(l.b)("p",null,"Packaging Scala.JS applications results in a ",Object(l.b)("inlineCode",{parentName:"p"},".js")," file, that can be run with ",Object(l.b)("inlineCode",{parentName:"p"},"node")," for example:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat Hello.scala\nobject Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n$ scala package --js Hello.scala -o hello.js\n$ node hello.js\nHello\n')),Object(l.b)("p",null,"Note that the Scala CLI doesn't offer to link the resulting JavaScript with linkers, such as Webpack, yet."),Object(l.b)("h2",{id:"scala-native"},"Scala Native"),Object(l.b)("p",null,"Package Scala Native applications results in a native executable:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat Hello.scala\nobject Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n$ scala package --native Hello.scala -o hello\n$ file hello\nhello: Mach-O 64-bit executable x86_64\n$ ./hello\nHello\n')),Object(l.b)("h2",{id:"os-specific-packages"},"OS-specific packages"),Object(l.b)("p",null,"The Scala CLI also offers to package Scala code as OS-specific packages. This feature is somewhat experimental,\nand supports the following formats, provided they're compatible with the operating system you're running ",Object(l.b)("inlineCode",{parentName:"p"},"scala")," on:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"DEB (Linux)"),Object(l.b)("li",{parentName:"ul"},"RPM (Linux)"),Object(l.b)("li",{parentName:"ul"},"PKG (macOS)"),Object(l.b)("li",{parentName:"ul"},"MSI (Windows)")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-text"},'$ cat Hello.scala\nobject Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n$ scala package --deb Hello.scala -o hello.deb\n$ file hello\nhello: Mach-O 64-bit executable x86_64\n$ ./hello\nHello\n')))}b.isMDXComponent=!0}}]);